extends layout

block content
  h1=title
  - let items = results

  div(class="container-fluid")
    // Create button at the top
    div(class="row-sm-2 m-1")
      button.btn(class="btn btn-success", onclick="dispatch('/Earrings/create')") Create

    each item in items
      - let updateDestination = `/Earrings/update?id=${item._id}`
      - let detailDestination = `/Earrings/detail?id=${item._id}`
      - let deleteDestination = `/Earrings/delete?id=${item._id}`

      div(class="row-sm-2 m-1") Earring #{item.material}(#{item.price}) is #{item.style}
      
      // Update button
      button.btn(class="btn btn-warning", onclick=`dispatch("${updateDestination}")`) Update

      // Detail button
      button.btn(class="btn btn-info", onclick=`dispatch("${detailDestination}")`) Detail

      // Delete button
      button.btn(class="btn btn-danger", onclick=`dispatch("${deleteDestination}")`) Delete

  script.
    function dispatch(path) {
      window.location.href = path;
    }
